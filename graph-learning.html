<!DOCTYPE html>
<html lang="ru" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <title>Graphs</title>
  </head>
  <body id = "body" style = "overflow:hidden;">
    <section class = "clearfix center-container">
      <div class = "container" style="width: 900px;">
          <div class = "what-graph float-left" style="width: 400px; padding-top: 100px;">
        <h1 class="float-left" style = "padding-bottom: 30px; ">
              Пример графа
        </h1>

        <button type="button" class="btn btn-primary" id = "add_edge" style="margin-top:350px; font-size: 24px;">Добавить вершину</button>

          <div id = "edge_block">

            <input type="text" class="form-control edge" placeholder="">
            <input type="text" class="form-control edge" placeholder="">
        
          </div>

              </div>
              <div>
                <img class = "float-right" src="src/graf5.png" style="margin-top: 150px;">
              </div>
      </div>
    </section>

    <script>
      let rectIsMove = false;
      let edges = document.getElementsByClassName("edge");
      let template = edges[0];
      let edgesXY = [[100, 100, 0, 0], [100, 100, 0, 0]];
      let selectedEdge = -1;
      add_edge.onclick = function(){
        edgesXY.push([100, 100, 0, 0]);
        
        document.getElementById("edge_block").appendChild(template);
      }

      setInterval(function () {
        
      for(let i = 0; i < document.getElementsByClassName("edge").length; i++){
      edges[i].addEventListener('mousedown', function(e){
        console.log(i);
        rectIsMove = true;
        edgesXY[i][2] = e.clientX - edgesXY[i][0];
        edgesXY[i][3] = e.clientY - edgesXY[i][1];
        selectedEdge = i;
      });
      }
      }, 100)
      document.addEventListener('mouseup', function(e){
        rectIsMove = false;
      })
      document.addEventListener('mousemove', function(e){
        console.log("w");
          if(rectIsMove){
            edgesXY[selectedEdge][0] = e.clientX - edgesXY[selectedEdge][2];
            edgesXY[selectedEdge][1] = e.clientY - edgesXY[selectedEdge][3];
            edges[selectedEdge].style.left = (e.clientX-edgesXY[selectedEdge][2]).toString() + "px";
            edges[selectedEdge].style.top = (e.clientY-edgesXY[selectedEdge][3]).toString() + "px";
          }
      })
    </script>

    <section class = "clearfix center-container">
        <div class = "container" style="width: 900px;">
          <div class = "what-graph float-left">
        <h1 class="text-center float-left" style = "padding-bottom: 30px;">
          Что же такое граф?
        </h1>
        <p style = "font-size: 22px; padding: 50px 0 0 0;">
            Граф - множество вершин и ребер.
          </p>
          <p style = "font-size: 22px; padding: 0;">
            Ребро - пара вершин.
          </p>
              </div>
          <div>
            <img class = "float-right" src="src/graf.png">
          </div>
      </div>
    </section>
    <section class = "clearfix center-container">
      <div class = "container" style="width: 900px;">
          <div class = "what-graph float-left" style="width: 400px; padding-top: 100px;">
        <h1 class="float-left" style = "padding-bottom: 30px; ">
          Где встречаются графы?
        </h1>
        <p style = "font-size: 22px; padding: 50px 0 0 0;">
            Графы встречаются в нашей жизни часто.
          </p>
          <p style = "font-size: 22px; padding: 0;">
           Хорошим примером графа является граф городов и дорог между ними.
          </p>
              </div>
          <div>
            <img class = "float-right" src="src/graf-road.png">
          </div>
      </div>
    </section>
    <section class = "clearfix center-container">
      <div class = "container" style="width: 900px;">
          <div class = "what-graph float-left" style="width: 600px;">
        <h1 class="float-left" style = "padding-bottom: 30px; display: contents;">
          Какие бывают графы?
        </h1>
        <div>
            <p style = "font-size: 22px; padding: 100px 0 0 0; width: 100%;">
                Графы бывают ориентированные
            </p>
          <img class = "float-right" src="src/graf2.png" width="150px" style="margin-top:-90px;">
        </div>
        <div style="">
            <p style = "font-size: 22px; padding: 100px 0 0 0; width: 100%;">
                Графы бывают неориентированные
              </p>
          <img class = "float-right" src="src/graf3.png" width="150px" style="margin-top:-90px;">
        </div>
        <div style="">
            <p style = "font-size: 22px; padding: 100px 0 0 0; width: 100%;">
                Графы бывают взвешенные
              </p>
          <img class = "float-right" src="src/graf4.png" width="150px" style="margin-top:-90px;">
        </div>
        <div style="">
            <p style = "font-size: 22px; padding: 100px 0 0 0; width: 100%;">
                Графы бывают невзвешенные
              </p>
          <img class = "float-right" src="src/graf3.png" width="150px" style="margin-top:-90px;">
        </div>
              </div>
          
      </div>
    </section>
    <section class = "clearfix center-container">
        <div class = "container" style="width: 900px;">
            <div class = "what-graph float-left" style="width: 400px; padding-top: 100px;">
          <h1 class="float-left" style = "padding-bottom: 30px; ">
            Как хранить граф?
          </h1>
          <ul style="font-size:28px;">
            <li>
                Матрица смежности
            </li>
            <li>
                Список ребер
            </li>
            <li>
                Списки смежности 
            </li>
          </ul>
                </div>
                <div>
                  <img class = "float-right" src="src/graf5.png" style="margin-top: 150px;">
                </div>
        </div>
      </section>
      
    <i class="fas fa-chevron-circle-right" id = "next"></i>
    <i class="fas fa-chevron-circle-right" id = "previous"></i>
    <script>
      let page = 0;
      let next = document.getElementById("next");
      let prev = document.getElementById("previous");
      let body = document.getElementById("body");
      next.onclick = function(){
        page += 1;
        body.style.marginTop = "-"+(page*100).toString()+"vh"
      }
      prev.onclick = function(){
        page -= 1;
        body.style.marginTop = "-"+(page*100).toString()+"vh"
      }
    </script>
  </body>
</html>
